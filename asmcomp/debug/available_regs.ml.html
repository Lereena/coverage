<html>
  <head>
    <title>Coverage report</title>
    <link rel="stylesheet" href="../../coverage.css" />
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="header">
      <h1>
        <a href="../../index.html">
          <span class="dirname">asmcomp/debug/</span>available_regs.ml
        </a>
      </h1>
      <h2>2.05%</h2>
    </div>
    <div id="navbar">
      <span class="unvisited" style="top:9.69%"></span>
      <span class="unvisited" style="top:9.97%"></span>
      <span class="unvisited" style="top:10.26%"></span>
      <span class="unvisited" style="top:11.40%"></span>
      <span class="unvisited" style="top:14.81%"></span>
      <span class="unvisited" style="top:15.10%"></span>
      <span class="unvisited" style="top:15.38%"></span>
      <span class="unvisited" style="top:25.07%"></span>
      <span class="unvisited" style="top:25.36%"></span>
      <span class="unvisited" style="top:25.64%"></span>
      <span class="unvisited" style="top:25.93%"></span>
      <span class="unvisited" style="top:26.21%"></span>
      <span class="unvisited" style="top:26.50%"></span>
      <span class="unvisited" style="top:26.78%"></span>
      <span class="unvisited" style="top:27.35%"></span>
      <span class="unvisited" style="top:27.64%"></span>
      <span class="unvisited" style="top:27.92%"></span>
      <span class="unvisited" style="top:28.49%"></span>
      <span class="unvisited" style="top:29.91%"></span>
      <span class="unvisited" style="top:30.20%"></span>
      <span class="unvisited" style="top:30.77%"></span>
      <span class="unvisited" style="top:31.05%"></span>
      <span class="unvisited" style="top:31.34%"></span>
      <span class="unvisited" style="top:31.62%"></span>
      <span class="unvisited" style="top:32.48%"></span>
      <span class="unvisited" style="top:32.76%"></span>
      <span class="unvisited" style="top:33.62%"></span>
      <span class="unvisited" style="top:33.90%"></span>
      <span class="unvisited" style="top:34.76%"></span>
      <span class="unvisited" style="top:35.04%"></span>
      <span class="unvisited" style="top:35.33%"></span>
      <span class="unvisited" style="top:35.90%"></span>
      <span class="unvisited" style="top:37.89%"></span>
      <span class="unvisited" style="top:38.75%"></span>
      <span class="unvisited" style="top:39.03%"></span>
      <span class="unvisited" style="top:41.03%"></span>
      <span class="unvisited" style="top:41.31%"></span>
      <span class="unvisited" style="top:41.60%"></span>
      <span class="unvisited" style="top:41.88%"></span>
      <span class="unvisited" style="top:42.74%"></span>
      <span class="unvisited" style="top:43.87%"></span>
      <span class="unvisited" style="top:44.44%"></span>
      <span class="unvisited" style="top:44.73%"></span>
      <span class="unvisited" style="top:45.01%"></span>
      <span class="unvisited" style="top:45.58%"></span>
      <span class="unvisited" style="top:46.72%"></span>
      <span class="unvisited" style="top:47.01%"></span>
      <span class="unvisited" style="top:47.29%"></span>
      <span class="unvisited" style="top:48.15%"></span>
      <span class="unvisited" style="top:49.57%"></span>
      <span class="unvisited" style="top:49.86%"></span>
      <span class="unvisited" style="top:50.14%"></span>
      <span class="unvisited" style="top:50.43%"></span>
      <span class="unvisited" style="top:52.14%"></span>
      <span class="unvisited" style="top:52.42%"></span>
      <span class="unvisited" style="top:52.99%"></span>
      <span class="unvisited" style="top:56.41%"></span>
      <span class="unvisited" style="top:56.70%"></span>
      <span class="unvisited" style="top:56.98%"></span>
      <span class="unvisited" style="top:57.55%"></span>
      <span class="unvisited" style="top:57.83%"></span>
      <span class="unvisited" style="top:58.12%"></span>
      <span class="unvisited" style="top:58.40%"></span>
      <span class="unvisited" style="top:58.69%"></span>
      <span class="unvisited" style="top:58.97%"></span>
      <span class="unvisited" style="top:59.54%"></span>
      <span class="unvisited" style="top:60.11%"></span>
      <span class="unvisited" style="top:60.68%"></span>
      <span class="unvisited" style="top:60.97%"></span>
      <span class="unvisited" style="top:61.54%"></span>
      <span class="unvisited" style="top:61.82%"></span>
      <span class="unvisited" style="top:62.68%"></span>
      <span class="unvisited" style="top:62.96%"></span>
      <span class="unvisited" style="top:64.10%"></span>
      <span class="unvisited" style="top:64.39%"></span>
      <span class="unvisited" style="top:64.67%"></span>
      <span class="unvisited" style="top:64.96%"></span>
      <span class="unvisited" style="top:66.38%"></span>
      <span class="unvisited" style="top:66.95%"></span>
      <span class="unvisited" style="top:67.24%"></span>
      <span class="unvisited" style="top:68.38%"></span>
      <span class="unvisited" style="top:68.66%"></span>
      <span class="unvisited" style="top:68.95%"></span>
      <span class="unvisited" style="top:69.52%"></span>
      <span class="unvisited" style="top:70.09%"></span>
      <span class="unvisited" style="top:70.37%"></span>
      <span class="unvisited" style="top:70.94%"></span>
      <span class="unvisited" style="top:71.23%"></span>
      <span class="unvisited" style="top:71.51%"></span>
      <span class="unvisited" style="top:72.08%"></span>
      <span class="unvisited" style="top:72.36%"></span>
      <span class="unvisited" style="top:72.65%"></span>
      <span class="unvisited" style="top:73.22%"></span>
      <span class="unvisited" style="top:74.07%"></span>
      <span class="unvisited" style="top:74.36%"></span>
      <span class="unvisited" style="top:74.64%"></span>
      <span class="unvisited" style="top:75.50%"></span>
      <span class="unvisited" style="top:75.78%"></span>
      <span class="unvisited" style="top:76.35%"></span>
      <span class="unvisited" style="top:76.64%"></span>
      <span class="unvisited" style="top:76.92%"></span>
      <span class="unvisited" style="top:77.49%"></span>
      <span class="unvisited" style="top:78.35%"></span>
      <span class="unvisited" style="top:78.63%"></span>
      <span class="unvisited" style="top:78.92%"></span>
      <span class="unvisited" style="top:79.49%"></span>
      <span class="unvisited" style="top:79.77%"></span>
      <span class="unvisited" style="top:80.06%"></span>
      <span class="unvisited" style="top:81.20%"></span>
      <span class="unvisited" style="top:81.48%"></span>
      <span class="unvisited" style="top:81.77%"></span>
      <span class="unvisited" style="top:82.05%"></span>
      <span class="unvisited" style="top:82.34%"></span>
      <span class="unvisited" style="top:82.62%"></span>
      <span class="unvisited" style="top:83.19%"></span>
      <span class="unvisited" style="top:83.76%"></span>
      <span class="unvisited" style="top:84.05%"></span>
      <span class="unvisited" style="top:84.62%"></span>
      <span class="unvisited" style="top:84.90%"></span>
      <span class="unvisited" style="top:85.19%"></span>
      <span class="unvisited" style="top:85.47%"></span>
      <span class="unvisited" style="top:85.75%"></span>
      <span class="unvisited" style="top:86.04%"></span>
      <span class="unvisited" style="top:86.32%"></span>
      <span class="unvisited" style="top:86.61%"></span>
      <span class="unvisited" style="top:86.89%"></span>
      <span class="unvisited" style="top:87.18%"></span>
      <span class="unvisited" style="top:87.46%"></span>
      <span class="unvisited" style="top:88.03%"></span>
      <span class="unvisited" style="top:88.60%"></span>
      <span class="unvisited" style="top:88.89%"></span>
      <span class="unvisited" style="top:89.74%"></span>
      <span class="unvisited" style="top:90.31%"></span>
      <span class="unvisited" style="top:90.60%"></span>
      <span class="unvisited" style="top:90.88%"></span>
      <span class="unvisited" style="top:91.74%"></span>
      <span class="unvisited" style="top:92.02%"></span>
      <span class="unvisited" style="top:92.31%"></span>
      <span class="unvisited" style="top:92.59%"></span>
      <span class="unvisited" style="top:92.88%"></span>
      <span class="unvisited" style="top:93.45%"></span>
      <span class="unvisited" style="top:93.73%"></span>
      <span class="unvisited" style="top:94.02%"></span>
      <span class="unvisited" style="top:94.30%"></span>
      <span class="unvisited" style="top:95.16%"></span>
      <span class="unvisited" style="top:95.44%"></span>
      <span class="unvisited" style="top:95.73%"></span>
      <span class="unvisited" style="top:96.01%"></span>
      <span class="unvisited" style="top:96.30%"></span>
      <span class="unvisited" style="top:96.58%"></span>
      <span class="unvisited" style="top:97.15%"></span>
      <span class="some-visited" style="top:98.01%"></span>
      <span class="unvisited" style="top:98.58%"></span>
      <span class="unvisited" style="top:98.86%"></span>
      <span class="unvisited" style="top:99.15%"></span>
      <span class="unvisited" style="top:99.43%"></span>
    </div>
    <div id="report">
      <div id="lines-layer">
        <pre>
<a id="L1"></a><span > </span>
<a id="L2"></a><span > </span>
<a id="L3"></a><span > </span>
<a id="L4"></a><span > </span>
<a id="L5"></a><span > </span>
<a id="L6"></a><span > </span>
<a id="L7"></a><span > </span>
<a id="L8"></a><span > </span>
<a id="L9"></a><span > </span>
<a id="L10"></a><span > </span>
<a id="L11"></a><span > </span>
<a id="L12"></a><span > </span>
<a id="L13"></a><span > </span>
<a id="L14"></a><span > </span>
<a id="L15"></a><span > </span>
<a id="L16"></a><span > </span>
<a id="L17"></a><span > </span>
<a id="L18"></a><span > </span>
<a id="L19"></a><span > </span>
<a id="L20"></a><span > </span>
<a id="L21"></a><span > </span>
<a id="L22"></a><span > </span>
<a id="L23"></a><span > </span>
<a id="L24"></a><span > </span>
<a id="L25"></a><span > </span>
<a id="L26"></a><span > </span>
<a id="L27"></a><span class="visited"> </span>
<a id="L28"></a><span class="visited"> </span>
<a id="L29"></a><span > </span>
<a id="L30"></a><span > </span>
<a id="L31"></a><span > </span>
<a id="L32"></a><span > </span>
<a id="L33"></a><span > </span>
<a id="L34"></a><span class="unvisited"> </span>
<a id="L35"></a><span class="unvisited"> </span>
<a id="L36"></a><span class="unvisited"> </span>
<a id="L37"></a><span > </span>
<a id="L38"></a><span > </span>
<a id="L39"></a><span > </span>
<a id="L40"></a><span class="unvisited"> </span>
<a id="L41"></a><span > </span>
<a id="L42"></a><span > </span>
<a id="L43"></a><span > </span>
<a id="L44"></a><span > </span>
<a id="L45"></a><span > </span>
<a id="L46"></a><span > </span>
<a id="L47"></a><span > </span>
<a id="L48"></a><span > </span>
<a id="L49"></a><span > </span>
<a id="L50"></a><span > </span>
<a id="L51"></a><span > </span>
<a id="L52"></a><span class="unvisited"> </span>
<a id="L53"></a><span class="unvisited"> </span>
<a id="L54"></a><span class="unvisited"> </span>
<a id="L55"></a><span > </span>
<a id="L56"></a><span > </span>
<a id="L57"></a><span > </span>
<a id="L58"></a><span > </span>
<a id="L59"></a><span > </span>
<a id="L60"></a><span > </span>
<a id="L61"></a><span > </span>
<a id="L62"></a><span > </span>
<a id="L63"></a><span > </span>
<a id="L64"></a><span > </span>
<a id="L65"></a><span > </span>
<a id="L66"></a><span > </span>
<a id="L67"></a><span > </span>
<a id="L68"></a><span > </span>
<a id="L69"></a><span > </span>
<a id="L70"></a><span > </span>
<a id="L71"></a><span > </span>
<a id="L72"></a><span > </span>
<a id="L73"></a><span > </span>
<a id="L74"></a><span > </span>
<a id="L75"></a><span > </span>
<a id="L76"></a><span > </span>
<a id="L77"></a><span > </span>
<a id="L78"></a><span > </span>
<a id="L79"></a><span > </span>
<a id="L80"></a><span > </span>
<a id="L81"></a><span > </span>
<a id="L82"></a><span > </span>
<a id="L83"></a><span > </span>
<a id="L84"></a><span > </span>
<a id="L85"></a><span > </span>
<a id="L86"></a><span > </span>
<a id="L87"></a><span > </span>
<a id="L88"></a><span class="unvisited"> </span>
<a id="L89"></a><span class="unvisited"> </span>
<a id="L90"></a><span class="unvisited"> </span>
<a id="L91"></a><span class="unvisited"> </span>
<a id="L92"></a><span class="unvisited"> </span>
<a id="L93"></a><span class="unvisited"> </span>
<a id="L94"></a><span class="unvisited"> </span>
<a id="L95"></a><span > </span>
<a id="L96"></a><span class="unvisited"> </span>
<a id="L97"></a><span class="unvisited"> </span>
<a id="L98"></a><span class="unvisited"> </span>
<a id="L99"></a><span > </span>
<a id="L100"></a><span class="unvisited"> </span>
<a id="L101"></a><span > </span>
<a id="L102"></a><span > </span>
<a id="L103"></a><span > </span>
<a id="L104"></a><span > </span>
<a id="L105"></a><span class="unvisited"> </span>
<a id="L106"></a><span class="unvisited"> </span>
<a id="L107"></a><span > </span>
<a id="L108"></a><span class="unvisited"> </span>
<a id="L109"></a><span class="unvisited"> </span>
<a id="L110"></a><span class="unvisited"> </span>
<a id="L111"></a><span class="unvisited"> </span>
<a id="L112"></a><span > </span>
<a id="L113"></a><span > </span>
<a id="L114"></a><span class="unvisited"> </span>
<a id="L115"></a><span class="unvisited"> </span>
<a id="L116"></a><span > </span>
<a id="L117"></a><span > </span>
<a id="L118"></a><span class="unvisited"> </span>
<a id="L119"></a><span class="unvisited"> </span>
<a id="L120"></a><span > </span>
<a id="L121"></a><span > </span>
<a id="L122"></a><span class="unvisited"> </span>
<a id="L123"></a><span class="unvisited"> </span>
<a id="L124"></a><span class="unvisited"> </span>
<a id="L125"></a><span > </span>
<a id="L126"></a><span class="unvisited"> </span>
<a id="L127"></a><span > </span>
<a id="L128"></a><span > </span>
<a id="L129"></a><span > </span>
<a id="L130"></a><span > </span>
<a id="L131"></a><span > </span>
<a id="L132"></a><span > </span>
<a id="L133"></a><span class="unvisited"> </span>
<a id="L134"></a><span > </span>
<a id="L135"></a><span > </span>
<a id="L136"></a><span class="unvisited"> </span>
<a id="L137"></a><span class="unvisited"> </span>
<a id="L138"></a><span > </span>
<a id="L139"></a><span > </span>
<a id="L140"></a><span > </span>
<a id="L141"></a><span > </span>
<a id="L142"></a><span > </span>
<a id="L143"></a><span > </span>
<a id="L144"></a><span class="unvisited"> </span>
<a id="L145"></a><span class="unvisited"> </span>
<a id="L146"></a><span class="unvisited"> </span>
<a id="L147"></a><span class="unvisited"> </span>
<a id="L148"></a><span > </span>
<a id="L149"></a><span > </span>
<a id="L150"></a><span class="unvisited"> </span>
<a id="L151"></a><span > </span>
<a id="L152"></a><span > </span>
<a id="L153"></a><span > </span>
<a id="L154"></a><span class="unvisited"> </span>
<a id="L155"></a><span > </span>
<a id="L156"></a><span class="unvisited"> </span>
<a id="L157"></a><span class="unvisited"> </span>
<a id="L158"></a><span class="unvisited"> </span>
<a id="L159"></a><span > </span>
<a id="L160"></a><span class="unvisited"> </span>
<a id="L161"></a><span > </span>
<a id="L162"></a><span > </span>
<a id="L163"></a><span > </span>
<a id="L164"></a><span class="unvisited"> </span>
<a id="L165"></a><span class="unvisited"> </span>
<a id="L166"></a><span class="unvisited"> </span>
<a id="L167"></a><span > </span>
<a id="L168"></a><span > </span>
<a id="L169"></a><span class="unvisited"> </span>
<a id="L170"></a><span > </span>
<a id="L171"></a><span > </span>
<a id="L172"></a><span > </span>
<a id="L173"></a><span > </span>
<a id="L174"></a><span class="unvisited"> </span>
<a id="L175"></a><span class="unvisited"> </span>
<a id="L176"></a><span class="unvisited"> </span>
<a id="L177"></a><span class="unvisited"> </span>
<a id="L178"></a><span > </span>
<a id="L179"></a><span > </span>
<a id="L180"></a><span > </span>
<a id="L181"></a><span > </span>
<a id="L182"></a><span > </span>
<a id="L183"></a><span class="unvisited"> </span>
<a id="L184"></a><span class="unvisited"> </span>
<a id="L185"></a><span > </span>
<a id="L186"></a><span class="unvisited"> </span>
<a id="L187"></a><span > </span>
<a id="L188"></a><span > </span>
<a id="L189"></a><span > </span>
<a id="L190"></a><span > </span>
<a id="L191"></a><span > </span>
<a id="L192"></a><span > </span>
<a id="L193"></a><span > </span>
<a id="L194"></a><span > </span>
<a id="L195"></a><span > </span>
<a id="L196"></a><span > </span>
<a id="L197"></a><span > </span>
<a id="L198"></a><span class="unvisited"> </span>
<a id="L199"></a><span class="unvisited"> </span>
<a id="L200"></a><span class="unvisited"> </span>
<a id="L201"></a><span > </span>
<a id="L202"></a><span class="unvisited"> </span>
<a id="L203"></a><span class="unvisited"> </span>
<a id="L204"></a><span class="unvisited"> </span>
<a id="L205"></a><span class="unvisited"> </span>
<a id="L206"></a><span class="unvisited"> </span>
<a id="L207"></a><span class="unvisited"> </span>
<a id="L208"></a><span > </span>
<a id="L209"></a><span class="unvisited"> </span>
<a id="L210"></a><span > </span>
<a id="L211"></a><span class="unvisited"> </span>
<a id="L212"></a><span > </span>
<a id="L213"></a><span class="unvisited"> </span>
<a id="L214"></a><span class="unvisited"> </span>
<a id="L215"></a><span > </span>
<a id="L216"></a><span class="unvisited"> </span>
<a id="L217"></a><span class="unvisited"> </span>
<a id="L218"></a><span > </span>
<a id="L219"></a><span > </span>
<a id="L220"></a><span class="unvisited"> </span>
<a id="L221"></a><span class="unvisited"> </span>
<a id="L222"></a><span > </span>
<a id="L223"></a><span > </span>
<a id="L224"></a><span > </span>
<a id="L225"></a><span class="unvisited"> </span>
<a id="L226"></a><span class="unvisited"> </span>
<a id="L227"></a><span class="unvisited"> </span>
<a id="L228"></a><span class="unvisited"> </span>
<a id="L229"></a><span > </span>
<a id="L230"></a><span > </span>
<a id="L231"></a><span > </span>
<a id="L232"></a><span > </span>
<a id="L233"></a><span class="unvisited"> </span>
<a id="L234"></a><span > </span>
<a id="L235"></a><span class="unvisited"> </span>
<a id="L236"></a><span class="unvisited"> </span>
<a id="L237"></a><span > </span>
<a id="L238"></a><span > </span>
<a id="L239"></a><span > </span>
<a id="L240"></a><span class="unvisited"> </span>
<a id="L241"></a><span class="unvisited"> </span>
<a id="L242"></a><span class="unvisited"> </span>
<a id="L243"></a><span > </span>
<a id="L244"></a><span class="unvisited"> </span>
<a id="L245"></a><span > </span>
<a id="L246"></a><span class="unvisited"> </span>
<a id="L247"></a><span class="unvisited"> </span>
<a id="L248"></a><span > </span>
<a id="L249"></a><span class="unvisited"> </span>
<a id="L250"></a><span class="unvisited"> </span>
<a id="L251"></a><span class="unvisited"> </span>
<a id="L252"></a><span > </span>
<a id="L253"></a><span class="unvisited"> </span>
<a id="L254"></a><span class="unvisited"> </span>
<a id="L255"></a><span class="unvisited"> </span>
<a id="L256"></a><span > </span>
<a id="L257"></a><span class="unvisited"> </span>
<a id="L258"></a><span > </span>
<a id="L259"></a><span > </span>
<a id="L260"></a><span class="unvisited"> </span>
<a id="L261"></a><span class="unvisited"> </span>
<a id="L262"></a><span class="unvisited"> </span>
<a id="L263"></a><span > </span>
<a id="L264"></a><span > </span>
<a id="L265"></a><span class="unvisited"> </span>
<a id="L266"></a><span class="unvisited"> </span>
<a id="L267"></a><span > </span>
<a id="L268"></a><span class="unvisited"> </span>
<a id="L269"></a><span class="unvisited"> </span>
<a id="L270"></a><span class="unvisited"> </span>
<a id="L271"></a><span > </span>
<a id="L272"></a><span class="unvisited"> </span>
<a id="L273"></a><span > </span>
<a id="L274"></a><span > </span>
<a id="L275"></a><span class="unvisited"> </span>
<a id="L276"></a><span class="unvisited"> </span>
<a id="L277"></a><span class="unvisited"> </span>
<a id="L278"></a><span > </span>
<a id="L279"></a><span class="unvisited"> </span>
<a id="L280"></a><span class="unvisited"> </span>
<a id="L281"></a><span class="unvisited"> </span>
<a id="L282"></a><span > </span>
<a id="L283"></a><span > </span>
<a id="L284"></a><span > </span>
<a id="L285"></a><span class="unvisited"> </span>
<a id="L286"></a><span class="unvisited"> </span>
<a id="L287"></a><span class="unvisited"> </span>
<a id="L288"></a><span class="unvisited"> </span>
<a id="L289"></a><span class="unvisited"> </span>
<a id="L290"></a><span class="unvisited"> </span>
<a id="L291"></a><span > </span>
<a id="L292"></a><span class="unvisited"> </span>
<a id="L293"></a><span > </span>
<a id="L294"></a><span class="unvisited"> </span>
<a id="L295"></a><span class="unvisited"> </span>
<a id="L296"></a><span > </span>
<a id="L297"></a><span class="unvisited"> </span>
<a id="L298"></a><span class="unvisited"> </span>
<a id="L299"></a><span class="unvisited"> </span>
<a id="L300"></a><span class="unvisited"> </span>
<a id="L301"></a><span class="unvisited"> </span>
<a id="L302"></a><span class="unvisited"> </span>
<a id="L303"></a><span class="unvisited"> </span>
<a id="L304"></a><span class="unvisited"> </span>
<a id="L305"></a><span class="unvisited"> </span>
<a id="L306"></a><span class="unvisited"> </span>
<a id="L307"></a><span class="unvisited"> </span>
<a id="L308"></a><span > </span>
<a id="L309"></a><span class="unvisited"> </span>
<a id="L310"></a><span > </span>
<a id="L311"></a><span class="unvisited"> </span>
<a id="L312"></a><span class="unvisited"> </span>
<a id="L313"></a><span > </span>
<a id="L314"></a><span > </span>
<a id="L315"></a><span class="unvisited"> </span>
<a id="L316"></a><span > </span>
<a id="L317"></a><span class="unvisited"> </span>
<a id="L318"></a><span class="unvisited"> </span>
<a id="L319"></a><span class="unvisited"> </span>
<a id="L320"></a><span > </span>
<a id="L321"></a><span > </span>
<a id="L322"></a><span class="unvisited"> </span>
<a id="L323"></a><span class="unvisited"> </span>
<a id="L324"></a><span class="unvisited"> </span>
<a id="L325"></a><span class="unvisited"> </span>
<a id="L326"></a><span class="unvisited"> </span>
<a id="L327"></a><span > </span>
<a id="L328"></a><span class="unvisited"> </span>
<a id="L329"></a><span class="unvisited"> </span>
<a id="L330"></a><span class="unvisited"> </span>
<a id="L331"></a><span class="unvisited"> </span>
<a id="L332"></a><span > </span>
<a id="L333"></a><span > </span>
<a id="L334"></a><span class="unvisited"> </span>
<a id="L335"></a><span class="unvisited"> </span>
<a id="L336"></a><span class="unvisited"> </span>
<a id="L337"></a><span class="unvisited"> </span>
<a id="L338"></a><span class="unvisited"> </span>
<a id="L339"></a><span class="unvisited"> </span>
<a id="L340"></a><span > </span>
<a id="L341"></a><span class="unvisited"> </span>
<a id="L342"></a><span > </span>
<a id="L343"></a><span > </span>
<a id="L344"></a><span class="some-visited"> </span>
<a id="L345"></a><span > </span>
<a id="L346"></a><span class="unvisited"> </span>
<a id="L347"></a><span class="unvisited"> </span>
<a id="L348"></a><span class="unvisited"> </span>
<a id="L349"></a><span class="unvisited"> </span>
<a id="L350"></a><span > </span>
<a id="L351"></a><span class="visited"> </span>
</pre>
      </div>
      <div id="text-layer">
        <pre id="line-numbers">
<a href="#L1">  1</a>
<a href="#L2">  2</a>
<a href="#L3">  3</a>
<a href="#L4">  4</a>
<a href="#L5">  5</a>
<a href="#L6">  6</a>
<a href="#L7">  7</a>
<a href="#L8">  8</a>
<a href="#L9">  9</a>
<a href="#L10"> 10</a>
<a href="#L11"> 11</a>
<a href="#L12"> 12</a>
<a href="#L13"> 13</a>
<a href="#L14"> 14</a>
<a href="#L15"> 15</a>
<a href="#L16"> 16</a>
<a href="#L17"> 17</a>
<a href="#L18"> 18</a>
<a href="#L19"> 19</a>
<a href="#L20"> 20</a>
<a href="#L21"> 21</a>
<a href="#L22"> 22</a>
<a href="#L23"> 23</a>
<a href="#L24"> 24</a>
<a href="#L25"> 25</a>
<a href="#L26"> 26</a>
<a href="#L27"> 27</a>
<a href="#L28"> 28</a>
<a href="#L29"> 29</a>
<a href="#L30"> 30</a>
<a href="#L31"> 31</a>
<a href="#L32"> 32</a>
<a href="#L33"> 33</a>
<a href="#L34"> 34</a>
<a href="#L35"> 35</a>
<a href="#L36"> 36</a>
<a href="#L37"> 37</a>
<a href="#L38"> 38</a>
<a href="#L39"> 39</a>
<a href="#L40"> 40</a>
<a href="#L41"> 41</a>
<a href="#L42"> 42</a>
<a href="#L43"> 43</a>
<a href="#L44"> 44</a>
<a href="#L45"> 45</a>
<a href="#L46"> 46</a>
<a href="#L47"> 47</a>
<a href="#L48"> 48</a>
<a href="#L49"> 49</a>
<a href="#L50"> 50</a>
<a href="#L51"> 51</a>
<a href="#L52"> 52</a>
<a href="#L53"> 53</a>
<a href="#L54"> 54</a>
<a href="#L55"> 55</a>
<a href="#L56"> 56</a>
<a href="#L57"> 57</a>
<a href="#L58"> 58</a>
<a href="#L59"> 59</a>
<a href="#L60"> 60</a>
<a href="#L61"> 61</a>
<a href="#L62"> 62</a>
<a href="#L63"> 63</a>
<a href="#L64"> 64</a>
<a href="#L65"> 65</a>
<a href="#L66"> 66</a>
<a href="#L67"> 67</a>
<a href="#L68"> 68</a>
<a href="#L69"> 69</a>
<a href="#L70"> 70</a>
<a href="#L71"> 71</a>
<a href="#L72"> 72</a>
<a href="#L73"> 73</a>
<a href="#L74"> 74</a>
<a href="#L75"> 75</a>
<a href="#L76"> 76</a>
<a href="#L77"> 77</a>
<a href="#L78"> 78</a>
<a href="#L79"> 79</a>
<a href="#L80"> 80</a>
<a href="#L81"> 81</a>
<a href="#L82"> 82</a>
<a href="#L83"> 83</a>
<a href="#L84"> 84</a>
<a href="#L85"> 85</a>
<a href="#L86"> 86</a>
<a href="#L87"> 87</a>
<a href="#L88"> 88</a>
<a href="#L89"> 89</a>
<a href="#L90"> 90</a>
<a href="#L91"> 91</a>
<a href="#L92"> 92</a>
<a href="#L93"> 93</a>
<a href="#L94"> 94</a>
<a href="#L95"> 95</a>
<a href="#L96"> 96</a>
<a href="#L97"> 97</a>
<a href="#L98"> 98</a>
<a href="#L99"> 99</a>
<a href="#L100">100</a>
<a href="#L101">101</a>
<a href="#L102">102</a>
<a href="#L103">103</a>
<a href="#L104">104</a>
<a href="#L105">105</a>
<a href="#L106">106</a>
<a href="#L107">107</a>
<a href="#L108">108</a>
<a href="#L109">109</a>
<a href="#L110">110</a>
<a href="#L111">111</a>
<a href="#L112">112</a>
<a href="#L113">113</a>
<a href="#L114">114</a>
<a href="#L115">115</a>
<a href="#L116">116</a>
<a href="#L117">117</a>
<a href="#L118">118</a>
<a href="#L119">119</a>
<a href="#L120">120</a>
<a href="#L121">121</a>
<a href="#L122">122</a>
<a href="#L123">123</a>
<a href="#L124">124</a>
<a href="#L125">125</a>
<a href="#L126">126</a>
<a href="#L127">127</a>
<a href="#L128">128</a>
<a href="#L129">129</a>
<a href="#L130">130</a>
<a href="#L131">131</a>
<a href="#L132">132</a>
<a href="#L133">133</a>
<a href="#L134">134</a>
<a href="#L135">135</a>
<a href="#L136">136</a>
<a href="#L137">137</a>
<a href="#L138">138</a>
<a href="#L139">139</a>
<a href="#L140">140</a>
<a href="#L141">141</a>
<a href="#L142">142</a>
<a href="#L143">143</a>
<a href="#L144">144</a>
<a href="#L145">145</a>
<a href="#L146">146</a>
<a href="#L147">147</a>
<a href="#L148">148</a>
<a href="#L149">149</a>
<a href="#L150">150</a>
<a href="#L151">151</a>
<a href="#L152">152</a>
<a href="#L153">153</a>
<a href="#L154">154</a>
<a href="#L155">155</a>
<a href="#L156">156</a>
<a href="#L157">157</a>
<a href="#L158">158</a>
<a href="#L159">159</a>
<a href="#L160">160</a>
<a href="#L161">161</a>
<a href="#L162">162</a>
<a href="#L163">163</a>
<a href="#L164">164</a>
<a href="#L165">165</a>
<a href="#L166">166</a>
<a href="#L167">167</a>
<a href="#L168">168</a>
<a href="#L169">169</a>
<a href="#L170">170</a>
<a href="#L171">171</a>
<a href="#L172">172</a>
<a href="#L173">173</a>
<a href="#L174">174</a>
<a href="#L175">175</a>
<a href="#L176">176</a>
<a href="#L177">177</a>
<a href="#L178">178</a>
<a href="#L179">179</a>
<a href="#L180">180</a>
<a href="#L181">181</a>
<a href="#L182">182</a>
<a href="#L183">183</a>
<a href="#L184">184</a>
<a href="#L185">185</a>
<a href="#L186">186</a>
<a href="#L187">187</a>
<a href="#L188">188</a>
<a href="#L189">189</a>
<a href="#L190">190</a>
<a href="#L191">191</a>
<a href="#L192">192</a>
<a href="#L193">193</a>
<a href="#L194">194</a>
<a href="#L195">195</a>
<a href="#L196">196</a>
<a href="#L197">197</a>
<a href="#L198">198</a>
<a href="#L199">199</a>
<a href="#L200">200</a>
<a href="#L201">201</a>
<a href="#L202">202</a>
<a href="#L203">203</a>
<a href="#L204">204</a>
<a href="#L205">205</a>
<a href="#L206">206</a>
<a href="#L207">207</a>
<a href="#L208">208</a>
<a href="#L209">209</a>
<a href="#L210">210</a>
<a href="#L211">211</a>
<a href="#L212">212</a>
<a href="#L213">213</a>
<a href="#L214">214</a>
<a href="#L215">215</a>
<a href="#L216">216</a>
<a href="#L217">217</a>
<a href="#L218">218</a>
<a href="#L219">219</a>
<a href="#L220">220</a>
<a href="#L221">221</a>
<a href="#L222">222</a>
<a href="#L223">223</a>
<a href="#L224">224</a>
<a href="#L225">225</a>
<a href="#L226">226</a>
<a href="#L227">227</a>
<a href="#L228">228</a>
<a href="#L229">229</a>
<a href="#L230">230</a>
<a href="#L231">231</a>
<a href="#L232">232</a>
<a href="#L233">233</a>
<a href="#L234">234</a>
<a href="#L235">235</a>
<a href="#L236">236</a>
<a href="#L237">237</a>
<a href="#L238">238</a>
<a href="#L239">239</a>
<a href="#L240">240</a>
<a href="#L241">241</a>
<a href="#L242">242</a>
<a href="#L243">243</a>
<a href="#L244">244</a>
<a href="#L245">245</a>
<a href="#L246">246</a>
<a href="#L247">247</a>
<a href="#L248">248</a>
<a href="#L249">249</a>
<a href="#L250">250</a>
<a href="#L251">251</a>
<a href="#L252">252</a>
<a href="#L253">253</a>
<a href="#L254">254</a>
<a href="#L255">255</a>
<a href="#L256">256</a>
<a href="#L257">257</a>
<a href="#L258">258</a>
<a href="#L259">259</a>
<a href="#L260">260</a>
<a href="#L261">261</a>
<a href="#L262">262</a>
<a href="#L263">263</a>
<a href="#L264">264</a>
<a href="#L265">265</a>
<a href="#L266">266</a>
<a href="#L267">267</a>
<a href="#L268">268</a>
<a href="#L269">269</a>
<a href="#L270">270</a>
<a href="#L271">271</a>
<a href="#L272">272</a>
<a href="#L273">273</a>
<a href="#L274">274</a>
<a href="#L275">275</a>
<a href="#L276">276</a>
<a href="#L277">277</a>
<a href="#L278">278</a>
<a href="#L279">279</a>
<a href="#L280">280</a>
<a href="#L281">281</a>
<a href="#L282">282</a>
<a href="#L283">283</a>
<a href="#L284">284</a>
<a href="#L285">285</a>
<a href="#L286">286</a>
<a href="#L287">287</a>
<a href="#L288">288</a>
<a href="#L289">289</a>
<a href="#L290">290</a>
<a href="#L291">291</a>
<a href="#L292">292</a>
<a href="#L293">293</a>
<a href="#L294">294</a>
<a href="#L295">295</a>
<a href="#L296">296</a>
<a href="#L297">297</a>
<a href="#L298">298</a>
<a href="#L299">299</a>
<a href="#L300">300</a>
<a href="#L301">301</a>
<a href="#L302">302</a>
<a href="#L303">303</a>
<a href="#L304">304</a>
<a href="#L305">305</a>
<a href="#L306">306</a>
<a href="#L307">307</a>
<a href="#L308">308</a>
<a href="#L309">309</a>
<a href="#L310">310</a>
<a href="#L311">311</a>
<a href="#L312">312</a>
<a href="#L313">313</a>
<a href="#L314">314</a>
<a href="#L315">315</a>
<a href="#L316">316</a>
<a href="#L317">317</a>
<a href="#L318">318</a>
<a href="#L319">319</a>
<a href="#L320">320</a>
<a href="#L321">321</a>
<a href="#L322">322</a>
<a href="#L323">323</a>
<a href="#L324">324</a>
<a href="#L325">325</a>
<a href="#L326">326</a>
<a href="#L327">327</a>
<a href="#L328">328</a>
<a href="#L329">329</a>
<a href="#L330">330</a>
<a href="#L331">331</a>
<a href="#L332">332</a>
<a href="#L333">333</a>
<a href="#L334">334</a>
<a href="#L335">335</a>
<a href="#L336">336</a>
<a href="#L337">337</a>
<a href="#L338">338</a>
<a href="#L339">339</a>
<a href="#L340">340</a>
<a href="#L341">341</a>
<a href="#L342">342</a>
<a href="#L343">343</a>
<a href="#L344">344</a>
<a href="#L345">345</a>
<a href="#L346">346</a>
<a href="#L347">347</a>
<a href="#L348">348</a>
<a href="#L349">349</a>
<a href="#L350">350</a>
<a href="#L351">351</a>
</pre>
        <pre id="code">
(**************************************************************************)
(*                                                                        *)
(*                                 OCaml                                  *)
(*                                                                        *)
(*            Mark Shinwell and Thomas Refis, Jane Street Europe          *)
(*                                                                        *)
(*   Copyright 2013--2017 Jane Street Group LLC                           *)
(*                                                                        *)
(*   All rights reserved.  This file is distributed under the terms of    *)
(*   the GNU Lesser General Public License version 2.1, with the          *)
(*   special exception on linking described in the file LICENSE.          *)
(*                                                                        *)
(**************************************************************************)

[@@@ocaml.warning "+a-4-9-30-40-41-42"]

module M = Mach
module R = Reg
module RAS = Reg_availability_set
module RD = Reg_with_debug_info
module V = Backend_var

(* This pass treats [avail_at_exit] like a "result" structure whereas the
   equivalent in [Liveness] is like an "environment".  (Which means we need
   to be careful not to throw away information about further-out catch
   handlers collected in [avail_at_exit].) *)
let avail_at_exit = <span data-count="2">H</span>ashtbl.create 42
let avail_at_raise = <span data-count="2">r</span>ef RAS.Unreachable

let augment_availability_at_raise avail =
  avail_at_raise := RAS.inter avail !avail_at_raise

let check_invariants (instr : M.instruction) ~(avail_before : RAS.t) =
  <span data-count="0">m</span>atch avail_before with
  | <span data-count="0">U</span>nreachable -&gt; ()
  | <span data-count="0">O</span>k avail_before -&gt;
    (* Every register that is live across an instruction should also be
       available before the instruction. *)
    if not (R.Set.subset instr.live (RD.Set.forget_debug_info avail_before))
    then <span data-count="0">b</span>egin
      Misc.fatal_errorf "Live registers not a subset of available registers: \
          live={%a} avail_before=%a missing={%a} insn=%a"
        Printmach.regset instr.live
        (RAS.print ~print_reg:Printmach.reg)
        (RAS.Ok avail_before)
        Printmach.regset (R.Set.diff instr.live
          (RD.Set.forget_debug_info avail_before))
        Printmach.instr ({ instr with M. next = M.end_instr (); })
    end;
    (* Every register that is an input to an instruction should be
       available. *)
    <span data-count="0">l</span>et args = <span data-count="0">R</span>.set_of_array instr.arg in
    <span data-count="0">l</span>et avail_before_fdi = <span data-count="0">R</span>D.Set.forget_debug_info avail_before in
    <span data-count="0">i</span>f not (R.Set.subset args avail_before_fdi) then <span data-count="0">b</span>egin
      Misc.fatal_errorf "Instruction has unavailable input register(s): \
          avail_before=%a avail_before_fdi={%a} inputs={%a} insn=%a"
        (RAS.print ~print_reg:Printmach.reg) (RAS.Ok avail_before)
        Printmach.regset avail_before_fdi
        Printmach.regset args
        Printmach.instr ({ instr with M. next = M.end_instr (); })
    end

(* [available_regs ~instr ~avail_before] calculates, given the registers
   "available before" an instruction [instr], the registers that are available
   both "across" and immediately after [instr].  This is a forwards dataflow
   analysis.

   "available before" can be thought of, at the assembly level, as the set of
   registers available when the program counter is equal to the address of the
   particular instruction under consideration (that is to say, immediately
   prior to the instruction being executed).  Inputs to that instruction are
   available at this point even if the instruction will clobber them.  Results
   from the previous instruction are also available at this point.

   "available across" is the registers available during the execution of
   some particular instruction.  These are the registers "available before"
   minus registers that may be clobbered or otherwise invalidated by the
   instruction.  (The notion of "available across" is only useful for [Iop]
   instructions.  Recall that some of these may expand into multiple
   machine instructions including clobbers, e.g. for [Ialloc].)

   The [available_before] and [available_across] fields of each instruction
   is updated by this function.
*)
let rec available_regs (instr : M.instruction)
      ~(avail_before : RAS.t) : RAS.t =
  check_invariants instr ~avail_before;
  <span data-count="0">i</span>nstr.available_before &lt;- avail_before;
  <span data-count="0">l</span>et avail_across, avail_after =
    <span data-count="0">l</span>et ok set = <span data-count="0">R</span>AS.Ok set in
    <span data-count="0">l</span>et unreachable = <span data-count="0">R</span>AS.Unreachable in
    <span data-count="0">m</span>atch avail_before with
    | <span data-count="0">U</span>nreachable -&gt; None, unreachable
    | <span data-count="0">O</span>k avail_before -&gt;
      match instr.desc with
      | <span data-count="0">I</span>end -&gt; None, ok avail_before
      | <span data-count="0">I</span>return -&gt; None, unreachable
      | <span data-count="0">I</span>op (Itailcall_ind _) | <span data-count="0">I</span>op (Itailcall_imm _) -&gt;
        Some (ok Reg_with_debug_info.Set.empty), unreachable
      | <span data-count="0">I</span>op (Iname_for_debugger { ident; which_parameter; provenance;
          is_assignment; }) -&gt;
        (* First forget about any existing debug info to do with [ident]
           if the naming corresponds to an assignment operation. *)
        let forgetting_ident =
          <span data-count="0">i</span>f not is_assignment then
            <span data-count="0">a</span>vail_before
          else
            <span data-count="0">R</span>D.Set.map (fun reg -&gt;
                <span data-count="0">m</span>atch RD.debug_info reg with
                | <span data-count="0">N</span>one -&gt; reg
                | <span data-count="0">S</span>ome debug_info -&gt;
                  if V.same
                    (RD.Debug_info.holds_value_of debug_info) ident
                  then <span data-count="0">R</span>D.clear_debug_info reg
                  else <span data-count="0">r</span>eg)
              avail_before
        in
        <span data-count="0">l</span>et avail_after = <span data-count="0">r</span>ef forgetting_ident in
        <span data-count="0">l</span>et num_parts_of_value = <span data-count="0">A</span>rray.length instr.arg in
        (* Add debug info about [ident], but only for registers that are known
           to be available. *)
        <span data-count="0">f</span>or part_of_value = 0 to num_parts_of_value - 1 do
          <span data-count="0">l</span>et reg = <span data-count="0">i</span>nstr.arg.(part_of_value) in
          <span data-count="0">i</span>f RD.Set.mem_reg forgetting_ident reg then <span data-count="0">b</span>egin
            let regd =
              <span data-count="0">R</span>D.create ~reg
                ~holds_value_of:ident
                ~part_of_value
                ~num_parts_of_value
                ~which_parameter
                ~provenance
            in
            <span data-count="0">a</span>vail_after := RD.Set.add regd (RD.Set.filter_reg !avail_after reg)
          end
        done;
        <span data-count="0">S</span>ome (ok avail_before), ok !avail_after
      | Iop (<span data-count="0">I</span>move | <span data-count="0">I</span>reload | <span data-count="0">I</span>spill) -&gt;
        (* Moves are special: they enable us to propagate names.
           No-op moves need to be handled specially---in this case, we may
           learn that a given hard register holds the value of multiple
           pseudoregisters (all of which have the same value).  This makes us
           match up properly with [Liveness]. *)
        let move_to_same_location =
          <span data-count="0">l</span>et move_to_same_location = <span data-count="0">r</span>ef true in
          <span data-count="0">f</span>or i = 0 to Array.length instr.arg - 1 do
            <span data-count="0">l</span>et arg = <span data-count="0">i</span>nstr.arg.(i) in
            <span data-count="0">l</span>et res = <span data-count="0">i</span>nstr.res.(i) in
            (* Note that the register classes must be the same, so we don't
                need to check that. *)
            <span data-count="0">i</span>f arg.loc &lt;&gt; res.loc then <span data-count="0">b</span>egin
              move_to_same_location := false
            end
          done;
          <span data-count="0">!</span>move_to_same_location
        in
        <span data-count="0">l</span>et made_unavailable =
          <span data-count="0">i</span>f move_to_same_location then
            <span data-count="0">R</span>D.Set.empty
          else
            <span data-count="0">R</span>D.Set.made_unavailable_by_clobber avail_before
              ~regs_clobbered:instr.res
              ~register_class:Proc.register_class
        in
        <span data-count="0">l</span>et results =
          <span data-count="0">A</span>rray.map2 (fun arg_reg result_reg -&gt;
              <span data-count="0">m</span>atch RD.Set.find_reg_exn avail_before arg_reg with
              | exception Not_found -&gt;
                assert false  (* see second invariant in [check_invariants] *)
              | <span data-count="0">a</span>rg_reg -&gt;
                RD.create_copying_debug_info ~reg:result_reg
                  ~debug_info_from:arg_reg)
            instr.arg instr.res
        in
        <span data-count="0">l</span>et avail_across = <span data-count="0">R</span>D.Set.diff avail_before made_unavailable in
        <span data-count="0">l</span>et avail_after = <span data-count="0">R</span>D.Set.union avail_across (RD.Set.of_array results) in
        <span data-count="0">S</span>ome (ok avail_across), ok avail_after
      | <span data-count="0">I</span>op op -&gt;
        (* We split the calculation of registers that become unavailable after
           a call into two parts.  First: anything that the target marks as
           destroyed by the operation, combined with any registers that will
           be clobbered by the operation writing out its results. *)
        let made_unavailable_1 =
          <span data-count="0">l</span>et regs_clobbered =
            <span data-count="0">A</span>rray.append (Proc.destroyed_at_oper instr.desc) instr.res
          in
          <span data-count="0">R</span>D.Set.made_unavailable_by_clobber avail_before ~regs_clobbered
            ~register_class:Proc.register_class
        in
        (* Second: the cases of (a) allocations and (b) OCaml to OCaml function
           calls.  In these cases, since the GC may run, registers always
           become unavailable unless:
           (a) they are "live across" the instruction; and/or
           (b) they hold immediates and are assigned to the stack.
           For the moment we assume that [Ispecific] instructions do not
           run the GC. *)
        (* CR-someday mshinwell: Consider factoring this out from here and
           [Available_ranges.Make_ranges.end_pos_offset]. *)
        <span data-count="0">l</span>et made_unavailable_2 =
          <span data-count="0">m</span>atch op with
          | <span data-count="0">I</span>call_ind _ | <span data-count="0">I</span>call_imm _ | <span data-count="0">I</span>alloc _ -&gt;
            RD.Set.filter (fun reg -&gt;
                <span data-count="0">l</span>et holds_immediate = <span data-count="0">R</span>D.holds_non_pointer reg in
                <span data-count="0">l</span>et on_stack = <span data-count="0">R</span>D.assigned_to_stack reg in
                <span data-count="0">l</span>et live_across = <span data-count="0">R</span>eg.Set.mem (RD.reg reg) instr.live in
                <span data-count="0">l</span>et remains_available =
                  <span data-count="0">l</span>ive_across
                    || <span data-count="0">(</span><span data-count="0">h</span>olds_immediate &amp;&amp; <span data-count="0">o</span>n_stack)
                in
                <span data-count="0">n</span>ot remains_available)
              avail_before
          | <span data-count="0">_</span> -&gt; RD.Set.empty
        in
        <span data-count="0">l</span>et made_unavailable =
          <span data-count="0">R</span>D.Set.union made_unavailable_1 made_unavailable_2
        in
        <span data-count="0">l</span>et avail_across = <span data-count="0">R</span>D.Set.diff avail_before made_unavailable in
        <span data-count="0">i</span>f M.operation_can_raise op then <span data-count="0">b</span>egin
          augment_availability_at_raise (ok avail_across)
        end;
        <span data-count="0">l</span>et avail_after =
          <span data-count="0">R</span>D.Set.union
            (RD.Set.without_debug_info (Reg.set_of_array instr.res))
            avail_across
        in
        <span data-count="0">S</span>ome (ok avail_across), ok avail_after
      | <span data-count="0">I</span>ifthenelse (_, ifso, ifnot) -&gt; join [ifso; ifnot] ~avail_before
      | <span data-count="0">I</span>switch (_, cases) -&gt; join (Array.to_list cases) ~avail_before
      | <span data-count="0">I</span>catch (recursive, handlers, body) -&gt;
        List.iter (fun (nfail, _handler) -&gt;
            (* In case there are nested [Icatch] expressions with the same
               handler numbers, we rely on the [Hashtbl] shadowing
               semantics. *)
            <span data-count="0">H</span>ashtbl.add avail_at_exit nfail unreachable)
          handlers;
        <span data-count="0">l</span>et avail_after_body =
          <span data-count="0">a</span>vailable_regs body ~avail_before:(ok avail_before)
        in
        (* CR-someday mshinwell: Consider potential efficiency speedups
           (see suggestions from @chambart on GPR#856). *)
        <span data-count="0">l</span>et aux (nfail, handler) (nfail', avail_at_top_of_handler) =
          <span data-count="0">a</span>ssert (nfail = nfail');
          <span data-count="0">a</span>vailable_regs handler ~avail_before:avail_at_top_of_handler
        in
        <span data-count="0">l</span>et aux_equal (nfail, avail_before_handler)
              (nfail', avail_before_handler') =
          <span data-count="0">a</span>ssert (nfail = nfail');
          <span data-count="0">R</span>AS.equal avail_before_handler avail_before_handler'
        in
        <span data-count="0">l</span>et rec fixpoint avail_at_top_of_handlers =
          <span data-count="0">l</span>et avail_after_handlers =
            <span data-count="0">L</span>ist.map2 aux handlers avail_at_top_of_handlers
          in
          <span data-count="0">l</span>et avail_at_top_of_handlers' =
            <span data-count="0">L</span>ist.map (fun (nfail, _handler) -&gt;
                <span data-count="0">m</span>atch Hashtbl.find avail_at_exit nfail with
                | exception Not_found -&gt; assert false  (* see above *)
                | <span data-count="0">a</span>vail_at_top_of_handler -&gt; nfail, avail_at_top_of_handler)
              handlers
          in
          <span data-count="0">m</span>atch recursive with
          | <span data-count="0">N</span>onrecursive -&gt; avail_after_handlers
          | <span data-count="0">R</span>ecursive -&gt;
            if List.for_all2 aux_equal avail_at_top_of_handlers
              avail_at_top_of_handlers'
            then <span data-count="0">a</span>vail_after_handlers
            else <span data-count="0">f</span>ixpoint avail_at_top_of_handlers'
        in
        <span data-count="0">l</span>et init_avail_at_top_of_handlers =
          <span data-count="0">L</span>ist.map (fun (nfail, _handler) -&gt;
              <span data-count="0">m</span>atch Hashtbl.find avail_at_exit nfail with
              | exception Not_found -&gt; assert false  (* see above *)
              | <span data-count="0">a</span>vail_at_top_of_handler -&gt; nfail, avail_at_top_of_handler)
            handlers
        in
        <span data-count="0">l</span>et avail_after_handlers = <span data-count="0">f</span>ixpoint init_avail_at_top_of_handlers in
        <span data-count="0">L</span>ist.iter (fun (nfail, _handler) -&gt;
            <span data-count="0">H</span>ashtbl.remove avail_at_exit nfail)
          handlers;
        <span data-count="0">l</span>et avail_after =
          <span data-count="0">L</span>ist.fold_left (fun avail_at_join avail_after_handler -&gt;
              <span data-count="0">R</span>AS.inter avail_at_join avail_after_handler)
            avail_after_body
            avail_after_handlers
        in
        <span data-count="0">N</span>one, avail_after
      | <span data-count="0">I</span>exit nfail -&gt;
        let avail_before = <span data-count="0">o</span>k avail_before in
        <span data-count="0">l</span>et avail_at_top_of_handler =
          <span data-count="0">m</span>atch Hashtbl.find avail_at_exit nfail with
          | <span data-count="0">e</span>xception Not_found -&gt;  (* also see top of [Icatch] clause above *)
            Misc.fatal_errorf "Iexit %d not in scope of Icatch" nfail
          | <span data-count="0">a</span>vail_at_top_of_handler -&gt; avail_at_top_of_handler
        in
        <span data-count="0">l</span>et avail_at_top_of_handler =
          <span data-count="0">R</span>AS.inter avail_at_top_of_handler avail_before
        in
        <span data-count="0">H</span>ashtbl.replace avail_at_exit nfail avail_at_top_of_handler;
        <span data-count="0">N</span>one, unreachable
      | <span data-count="0">I</span>trywith (body, handler) -&gt;
        let saved_avail_at_raise = <span data-count="0">!</span>avail_at_raise in
        <span data-count="0">a</span>vail_at_raise := unreachable;
        <span data-count="0">l</span>et avail_before = <span data-count="0">o</span>k avail_before in
        <span data-count="0">l</span>et after_body = <span data-count="0">a</span>vailable_regs body ~avail_before in
        <span data-count="0">l</span>et avail_before_handler =
          <span data-count="0">m</span>atch !avail_at_raise with
          | <span data-count="0">U</span>nreachable -&gt; unreachable
          | <span data-count="0">O</span>k avail_at_raise -&gt;
            let without_exn_bucket =
              <span data-count="0">R</span>D.Set.filter_reg avail_at_raise Proc.loc_exn_bucket
            in
            <span data-count="0">l</span>et with_anonymous_exn_bucket =
              <span data-count="0">R</span>D.Set.add (RD.create_without_debug_info ~reg:Proc.loc_exn_bucket)
                without_exn_bucket
            in
            <span data-count="0">o</span>k with_anonymous_exn_bucket
        in
        <span data-count="0">a</span>vail_at_raise := saved_avail_at_raise;
        <span data-count="0">l</span>et avail_after =
          <span data-count="0">R</span>AS.inter after_body
            (available_regs handler ~avail_before:avail_before_handler)
        in
        <span data-count="0">N</span>one, avail_after
      | <span data-count="0">I</span>raise _ -&gt;
        let avail_before = <span data-count="0">o</span>k avail_before in
        <span data-count="0">a</span>ugment_availability_at_raise avail_before;
        <span data-count="0">N</span>one, unreachable
  in
  <span data-count="0">i</span>nstr.available_across &lt;- avail_across;
  <span data-count="0">m</span>atch instr.desc with
  | <span data-count="0">I</span>end -&gt; avail_after
  | <span data-count="0">_</span> -&gt; available_regs instr.next ~avail_before:avail_after

and join branches ~avail_before =
  <span data-count="0">l</span>et avail_before = <span data-count="0">R</span>AS.Ok avail_before in
  <span data-count="0">l</span>et avails = <span data-count="0">L</span>ist.map (available_regs ~avail_before) branches in
  <span data-count="0">l</span>et avail_after =
    <span data-count="0">m</span>atch avails with
    | <span data-count="0">[</span>] -&gt; avail_before
    | <span data-count="0">a</span>vail::avails -&gt; List.fold_left RAS.inter avail avails
  in
  <span data-count="0">N</span>one, avail_after

let fundecl (f : M.fundecl) =
  if <span data-count="22">!</span>Clflags.debug &amp;&amp; <span data-count="0">!</span>Clflags.debug_runavail then <span data-count="0">b</span>egin
    assert (Hashtbl.length avail_at_exit = 0);
    <span data-count="0">a</span>vail_at_raise := RAS.Unreachable;
    <span data-count="0">l</span>et fun_args = <span data-count="0">R</span>.set_of_array f.fun_args in
    <span data-count="0">l</span>et avail_before = <span data-count="0">R</span>AS.Ok (RD.Set.without_debug_info fun_args) in
    <span data-count="0">i</span>gnore ((available_regs f.fun_body ~avail_before) : RAS.t);
  end;
  <span data-count="22">f</span>
</pre>
      </div>
    </div>
    <div id="footer">Generated on 2019-08-19 17:14:36 by <a href="https://github.com/aantron/bisect_ppx">Bisect_ppx</a> 1.4.1</div>
    <script src="../../coverage.js"></script>
  </body>
</html>
